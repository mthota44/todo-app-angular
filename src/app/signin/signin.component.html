<div class="login-form-wrapper">
    <h2>Register Account</h2>

    <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">

        <div class="field">
            <label>Email</label>
            <input type="email" formControlName="email" placeholder="Enter email">

            @if (loginForm.get('email')?.touched && loginForm.get('email')?.errors?.['required']) {
            <span class="error-msg">
                Email is required
            </span>
            }

            @if (loginForm.get('email')?.touched && loginForm.get('email')?.errors?.['email']) {
            <span class="error-msg">
                Invalid email format
            </span>
            }
        </div>

        <!-- PASSWORD -->
        <div class="field">
            <label>Password</label>
            <input type="password" formControlName="password" placeholder="Min 8 chars, 1 Cap, 1 Num">

            @if (loginForm.get('password')?.touched && loginForm.get('password')?.invalid) {
            <div class="error-msg">

                @if (loginForm.get('password')?.errors?.['required']) {
                <p>
                    Password is required
                </p>
                }

                @if (loginForm.get('password')?.errors?.['minlength']) {
                <p>
                    Minimum 8 characters required
                </p>
                }

                @if (loginForm.get('password')?.errors?.['pattern']) {
                <p>
                    Must include 1 uppercase and 1 number
                </p>
                }

            </div>
            }
        </div>

        <!-- CONFIRM PASSWORD -->
        <div class="field">
            <label>Confirm Password</label>
            <input type="password" formControlName="confirmPassword" placeholder="Repeat password">

            @if (loginForm.get('confirmPassword')?.touched &&
            loginForm.get('confirmPassword')?.hasError('passwordMismatch')) {
            <span class="error-msg">
                Passwords do not match
            </span>
            }
        </div>

        <button type="submit" [disabled]="loginForm.invalid">
            Sign Up
        </button>

    </form>
</div>